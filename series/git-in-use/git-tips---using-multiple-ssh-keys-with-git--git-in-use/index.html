<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Git Tips - Using multiple SSH keys with Git | Git in-use | VPhong Blog | A coding life</title><meta name=author content="Phong To"><meta name=description content="There is the difficulty to pull/push from multiple Git repositories with SSH credentials. I'll help you to simplify this one"><meta name=keywords content="blog,developer,personal,phong,it"><meta name=twitter:card content="summary"><meta name=twitter:title content="Git Tips - Using multiple SSH keys with Git | Git in-use"><meta name=twitter:description content="There is the difficulty to pull/push from multiple Git repositories with SSH credentials. I'll help you to simplify this one"><meta property="og:title" content="Git Tips - Using multiple SSH keys with Git | Git in-use"><meta property="og:description" content="There is the difficulty to pull/push from multiple Git repositories with SSH credentials. I'll help you to simplify this one"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.vphong.com/series/git-in-use/git-tips---using-multiple-ssh-keys-with-git--git-in-use/"><meta property="article:section" content="series"><meta property="article:published_time" content="2023-02-18T10:26:44+00:00"><meta property="article:modified_time" content="2023-02-18T10:26:44+00:00"><meta property="og:see_also" content="https://blog.vphong.com/series/git-in-use/git-tips---reset-local-files-to-current-status-on-remote-branch--git-in-use/"><meta property="og:see_also" content="https://blog.vphong.com/series/git-in-use/2023-02-04-git-tips---reset-a-branch-to-remote-status--git-in-use/"><meta property="og:see_also" content="https://blog.vphong.com/series/git-in-use/2023-01-26-git-tips---discard-local-unstaged-changes--git-in-use/"><meta property="og:see_also" content="https://blog.vphong.com/series/git-in-use/2023-01-24-git-alias---the-shorthand-power--git-in-use/"><link rel=stylesheet href=/css/bootstrap.min.css crossorigin=anonymous><link href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/sass/main.css><link rel=stylesheet href=/zoomjs/zoom.min.css><script src=/js/lazysizes.min.js></script>
<link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/ms-icon-144x144.png"><meta name=theme-color content="#ffffff"></head><body><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=https://blog.vphong.com>VPhong Blog | A coding life</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/ title=Home>Home</a></li><li><a href=/archive/ title=Archive>Archive</a></li><li><a href=/series/git-in-use/ title="Git in-use">Git in-use</a></li><li><a href=/about/ title=About>About</a></li><li><a href=https://github.com/vfon98 title=Github>Github</a></li><li class=search-icon><a href=javascript:void(0)><i class="fa fa-search"></i></a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse"),__HuxNav__={close:function(){$navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)},open:function(){$collapse.style.height="auto",$navbar.className+=" in"}};$toggle.addEventListener("click",function(){$navbar.className.indexOf("in")>0?__HuxNav__.close():__HuxNav__.open()}),document.addEventListener("click",function(e){if(e.target==$toggle)return;if(e.target.className=="icon-bar")return;__HuxNav__.close()})</script><div class=search-page><div class=search-icon-close-container><span class=search-icon-close><i class="fa fa-chevron-down"></i></span></div><div class="search-main container"><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><form></form><input type=text id=search-input placeholder="$ grep..."></form><div id=search-results class=mini-post-list></div></div></div></div></div><style type=text/css>header.intro-header{position:relative;background-image:url(/img/git-commits-bg.jpeg)}</style><header class=intro-header><div class=header-mask></div><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags><a class=tag href=/tags/git/ title=git>git</a>
<a class=tag href=/tags/tips/ title=tips>tips</a></div><h1>Git Tips - Using multiple SSH keys with Git | Git in-use</h1><h2 class=subheading></h2><span class=meta>Posted by Phong To
on Sat, Feb 18, 2023</span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><h2 id=using-multiple-ssh-keys-for-git>Using Multiple SSH Keys for Git<a class=anchorjs-link href=#using-multiple-ssh-keys-for-git></a></h2><p>When you work with Git, you might need to use different SSH keys for different repositories. For example, you might have personal and work Git accounts, each with their own SSH keys. In this case, you need to tell Git which key to use for which repository.</p><p>One way to do this is to use SSH configuration files. These files allow you to specify the SSH key and other options to use when connecting to a specific host. In this blog post, we&rsquo;ll show you how to use SSH configuration files to manage multiple SSH keys for Git</p><h2 id=generate-a-new-ssh-key-pair>Generate a new SSH key pair<a class=anchorjs-link href=#generate-a-new-ssh-key-pair></a></h2><p>First, generate a new SSH key pair for each Git account or repository you want to use. You can use the <code>ssh-keygen</code> command to generate a new key pair.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>ssh-keygen -t rsa -b <span style=color:#bd93f9>4096</span> -C <span style=color:#f1fa8c>&#34;your_email@example.com&#34;</span>
</span></span></code></pre></div><p>The command varied by your Git client:</p><ul><li><p><strong>Github Guideline</strong>: <a href=https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent target=_blank>https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent</a></p></li><li><p><strong>AWS CodeCommit Guideline</strong>: <a href=https://docs.aws.amazon.com/codecommit/latest/userguide/setting-up-ssh-unixes.html target=_blank>https://docs.aws.amazon.com/codecommit/latest/userguide/setting-up-ssh-unixes.html</a></p></li><li><p><strong>GitLab Guideline</strong>: <a href=https://docs.gitlab.com/ee/user/ssh.html target=_blank>https://docs.gitlab.com/ee/user/ssh.html</a></p></li></ul><p><strong>IMPORTANT:</strong> When the Terminal asking for the location and file name, you should give it a remarkable name for later easier usage.</p><h2 id=add-your-ssh-keys-to-the-ssh-agent-optional>Add your SSH keys to the SSH agent (Optional)<a class=anchorjs-link href=#add-your-ssh-keys-to-the-ssh-agent-optional></a></h2><p>After generating your SSH key pairs, you can add them to the SSH agent so that Git can use them. To do this, run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>ssh-add /path/to/private/key
</span></span></code></pre></div><h2 id=add-the-public-ssh-key-to-your-git-account-or-repository>Add the public SSH key to your Git account or repository<a class=anchorjs-link href=#add-the-public-ssh-key-to-your-git-account-or-repository></a></h2><p>To authenticate with Git using your SSH keys, you need to add the public key to your Git account or repository. You can copy the contents of the public key file <strong>(e.g., id_rsa.pub)</strong> and paste it into the SSH key settings of your Git account or repository.</p><h2 id=configure-git-host-url-to-use-the-correct-ssh-key>Configure Git host URL to use the correct SSH key<a class=anchorjs-link href=#configure-git-host-url-to-use-the-correct-ssh-key></a></h2><p>To tell Git which SSH key to use for a particular repository or account, you need to configure the SSH URL of the repository to include the path to the private key. You can do this by editing the <code>~/.ssh/config</code> file and adding the following configuration (create a new one if it does not existed):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>Host github.com
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>  HostName github.com
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>  User git
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>  IdentityFile /path/to/private/key
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>Host gitlab.com
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span>  HostName gitlab.com
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span><span>  User git
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9</span><span>  IdentityFile /path/to/other/private/key
</span></span></code></pre></div><p>You need to replace the <code>Host</code> values with the SSH URL of the repository or account you want to use, and the <code>IdentityFile</code> value with the path to the private key for that account.</p><h2 id=test-your-ssh-connection>Test your SSH connection<a class=anchorjs-link href=#test-your-ssh-connection></a></h2><p>To test that your SSH connection is working, you can run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>ssh -T git@github.com
</span></span></code></pre></div><p>Replace github.com with the SSH URL of the repository or account you want to test. If the SSH connection is working, you should see a message that says &ldquo;Hi username! You&rsquo;ve successfully authenticated, but GitHub does not provide shell access.&rdquo;</p><p>That&rsquo;s it! You should now be able to use multiple SSH keys with Git. When you clone or push to a repository, Git will use the SSH key that matches the SSH URL of the repository.</p><h2 id=extra-tip-using-config-with-multiple-git-accounts-associated-with-same-host>EXTRA TIP: Using config with multiple Git accounts associated with same host<a class=anchorjs-link href=#extra-tip-using-config-with-multiple-git-accounts-associated-with-same-host></a></h2><p>If you have multiple Git accounts associated with the same github.com host, you can still use the Host keyword in your SSH configuration file. However, you&rsquo;ll need to add a unique alias for each account to differentiate them.</p><p>Here&rsquo;s an example configuration that shows how to use aliases to specify different SSH keys for multiple GitHub accounts:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>Host github.com-personal
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>  HostName github.com
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>  User git
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>  IdentityFile ~/.ssh/id_rsa_personal
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>Host github.com-work
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span>  HostName github.com
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span><span>  User git
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9</span><span>  IdentityFile ~/.ssh/id_rsa_work
</span></span></code></pre></div><p>In this example, we&rsquo;ve created two Host sections: github.com-personal and github.com-work. The HostName and User options are the same for both accounts since they are both hosted on GitHub. However, the IdentityFile option is different for each account, specifying the path to the appropriate SSH key.</p><p>To clone or push to a repository, you&rsquo;ll need to use the alias instead of the full hostname. For example, to clone a repository associated with your personal account, you would use:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>git clone git@github.com-personal:user/repo.git
</span></span></code></pre></div><p>Note that the alias (<code>github.com-personal</code>) is used instead of the full hostname (<code>github.com</code>) when specifying the SSH URL. You can similarly use the alias when pushing changes to a repository associated with your personal account.</p><p>Writer assistant: <strong>ChatGPT</strong></p><p><strong>Thanks for reading!</strong></p><hr style=visibility:hidden><ul class=pager><li class=previous><a href=/posts/2023-02-12-agile---12-manifesto-in-short-and-even-shorter--management-notes/ data-toggle=tooltip data-placement=top title="Agile - 12 manifesto in short and even shorter | Management Notes">Previous<br><span>Agile - 12 manifesto in short and even shorter | Management Notes</span></a></li><li class=next><a href=/series/git-in-use/git-tips---reset-local-files-to-current-status-on-remote-branch--git-in-use/ data-toggle=tooltip data-placement=top title="Git Tips - Reset local files to a remote branch | Git in-use">Next<br><span>Git Tips - Reset local files to a remote branch | Git in-use</span></a></li></ul><hr style=visibility:hidden><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//blog-vphong.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><div class=giscus id=comments></div><script src=https://giscus.app/client.js data-repo=roninro/hugo-theme-puppet data-repo-id=R_kgDOHuvyhw data-category=General data-category-id=DIC_kwDOHuvyh84CQjDo data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light_tritanopia data-lang=en crossorigin=anonymous async></script></div><div class="col-lg-2 col-lg-offset-0
visible-lg-block
sidebar-container
catalog-container"><div class=side-catalog><hr class="hidden-sm hidden-xs"><h5><a class=catalog-toggle href=#>CATALOG</a></h5><ul class=catalog-body></ul></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5>FEATURED TAGS</h5><div class=tags><a href=/tags/about/>about</a>
<a href=/tags/agile/>agile</a>
<a href=/tags/alias/>alias</a>
<a href=/tags/awesome/>awesome</a>
<a href=/tags/blog/>blog</a>
<a href=/tags/coder/>coder</a>
<a href=/tags/coding/>coding</a>
<a href=/tags/git/>git</a>
<a href=/tags/introduction/>introduction</a>
<a href=/tags/it/>it</a>
<a href=/tags/management/>management</a>
<a href=/tags/note/>note</a>
<a href=/tags/tip/>tip</a>
<a href=/tags/tips/>tips</a>
<a href=/tags/vphong/>vphong</a></div></section></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href=mailto:hi@vphong.com><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i>
<i class="fa fa-envelope fa-stack-1x fa-inverse" style=font-size:.9em></i></span></a></li><li><a target=_blank href=https://www.facebook.com/vfon98><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i>
<i class="fa fa-facebook fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://github.com/vfon98><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i>
<i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://www.linkedin.com/in/phong-to-34824b216><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i>
<i class="fa fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; VPhong Blog | A coding life 2023<br>From me with ❤️ • since October 2022<br><iframe style=margin-left:2px;margin-bottom:-5px frameborder=0 scrolling=0 width=140px height=20px title=Github src="https://ghbtns.com/github-btn.html?user=vfon98&type=follow&count=true"></iframe></p></div></div></div></footer><script src=/js/jquery.min.js></script>
<script src=/js/bootstrap.min.js crossorigin=anonymous></script>
<script src=/js/hux-blog.min.c4ea77041cd3edbfc8b2622cd887a9a5d8760a4162d14489e36d2a3fa4c90172.js></script>
<script src=/js/simple-jekyll-search.min.js></script>
<script src=/js/search.min.53bce5da475b4d362500e5ce5dddfa22e20e1b9018777411d2020b4b839c9310.js></script>
<script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,a=$(_containerSelector),r=a.find("h1,h2,h3,h4");return $(e).html(""),r.each(function(){t=$(this).prop("tagName").toLowerCase(),o="#"+$(this).prop("id"),n=$(this).text(),i=$('<a href="'+o+'" rel="nofollow">'+n+"</a>"),s=$('<li class="'+t+'_nav"></li>').append(i),$(e).append(s)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")})</script><script type=text/javascript src=/js/jquery.nav.min.ade6bde8f9fcc6a4b40852cb892e9f5912340ab8fe1305149d917fdd16fffd8d.js></script>
<script>$(document).ready(function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-DGPJHX9BPH"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-DGPJHX9BPH",{anonymize_ip:!1})}</script><script src=/zoomjs/zoom.min.js></script></body></html>